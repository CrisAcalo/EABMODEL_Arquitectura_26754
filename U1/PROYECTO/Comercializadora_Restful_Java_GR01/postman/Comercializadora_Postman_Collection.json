{
	"info": {
		"_postman_id": "comercializadora-api-2025",
		"name": "Comercializadora API - Puerto 8081",
		"description": "Colecci√≥n completa de pruebas para el API REST de Comercializadora.\n\n**Puerto:** 8081\n**Base URL:** http://localhost:8081/comercializadora-server/api\n\n**IMPORTANTE:**\n- Descuento EFECTIVO: Se calcula autom√°ticamente (33%)\n- Descuento CREDITO: 0% (sin descuento)\n- Para CREDITO: numeroCredito es OBLIGATORIO (obtenido de BanQuito)\n- Formato factura: FAC-YYYYMMDD-XXX",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Productos",
			"item": [
				{
					"name": "Obtener todos los productos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos"]
						}
					}
				},
				{
					"name": "Obtener productos activos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/activos",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "activos"]
						}
					}
				},
				{
					"name": "Obtener producto por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/1",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "1"]
						}
					}
				},
				{
					"name": "Obtener producto por c√≥digo",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/codigo/REFRI-001",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "codigo", "REFRI-001"]
						}
					}
				},
				{
					"name": "Buscar productos por nombre",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/buscar?nombre=Samsung",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "buscar"],
							"query": [
								{
									"key": "nombre",
									"value": "Samsung"
								}
							]
						}
					}
				},
				{
					"name": "Obtener productos por categor√≠a",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/categoria/REFRIGERACION",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "categoria", "REFRIGERACION"]
						}
					}
				},
				{
					"name": "Crear producto",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"codigo\": \"LAVA-002\",\n  \"nombre\": \"Lavadora Whirlpool 20kg\",\n  \"descripcion\": \"Lavadora de carga superior con 15 programas de lavado\",\n  \"precio\": 949.99,\n  \"stock\": 15,\n  \"categoria\": \"LAVADO\",\n  \"estado\": \"ACTIVO\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos"]
						}
					}
				},
				{
					"name": "Actualizar producto",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"codigo\": \"LAVA-002\",\n  \"nombre\": \"Lavadora Whirlpool 20kg - OFERTA\",\n  \"descripcion\": \"Lavadora de carga superior con 15 programas de lavado\",\n  \"precio\": 849.99,\n  \"stock\": 15,\n  \"categoria\": \"LAVADO\",\n  \"estado\": \"ACTIVO\"\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/11",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "11"]
						}
					}
				},
				{
					"name": "Actualizar stock",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"stock\": 50\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/1/stock",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "1", "stock"]
						}
					}
				},
				{
					"name": "Eliminar producto (soft delete)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/11",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "11"]
						}
					}
				},
				{
					"name": "Ping - Verificar servicio",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/productos/ping",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "productos", "ping"]
						}
					}
				}
			]
		},
		{
			"name": "Facturas",
			"item": [
				{
					"name": "Obtener todas las facturas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas"]
						}
					}
				},
				{
					"name": "Obtener factura por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas/1",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas", "1"]
						}
					}
				},
				{
					"name": "Obtener factura por n√∫mero",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas/numero/FAC-20251117-001",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas", "numero", "FAC-20251117-001"]
						}
					}
				},
				{
					"name": "Obtener facturas por cliente",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas/cliente/1234567890",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas", "cliente", "1234567890"]
						}
					}
				},
				{
					"name": "Obtener facturas a cr√©dito",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas/credito",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas", "credito"]
						}
					}
				},
				{
					"name": "Obtener factura por n√∫mero de cr√©dito",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas/credito/CRE-000001",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas", "credito", "CRE-000001"]
						}
					}
				},
				{
					"name": "‚úÖ Crear factura EFECTIVO (descuento autom√°tico 33%)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cedulaCliente\": \"1234567890\",\n  \"nombreCliente\": \"Juan Carlos P√©rez\",\n  \"formaPago\": \"EFECTIVO\",\n  \"detalles\": [\n    {\n      \"productoId\": 1,\n      \"cantidad\": 1\n    },\n    {\n      \"productoId\": 4,\n      \"cantidad\": 2\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas"]
						},
						"description": "Crea una factura en EFECTIVO.\n\n**Descuento:** Se calcula autom√°ticamente (33% del subtotal)\n**numeroCredito:** No es necesario"
					}
				},
				{
					"name": "‚úÖ Crear factura EFECTIVO - Un producto",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cedulaCliente\": \"0912345678\",\n  \"nombreCliente\": \"Mar√≠a Gonz√°lez\",\n  \"formaPago\": \"EFECTIVO\",\n  \"detalles\": [\n    {\n      \"productoId\": 3,\n      \"cantidad\": 1\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas"]
						}
					}
				},
				{
					"name": "üí≥ Crear factura CREDITO (sin descuento)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cedulaCliente\": \"0987654321\",\n  \"nombreCliente\": \"Pedro Ram√≠rez\",\n  \"formaPago\": \"CREDITO\",\n  \"numeroCredito\": \"CRE-000001\",\n  \"detalles\": [\n    {\n      \"productoId\": 1,\n      \"cantidad\": 1\n    },\n    {\n      \"productoId\": 2,\n      \"cantidad\": 1\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas"]
						},
						"description": "Crea una factura a CREDITO.\n\n**Descuento:** 0% (sin descuento)\n**numeroCredito:** OBLIGATORIO (debe obtenerse de BanQuito primero)\n\n**FLUJO:**\n1. Cliente ‚Üí BanQuito (obtener numeroCredito)\n2. Cliente ‚Üí Comercializadora (crear factura con numeroCredito)"
					}
				},
				{
					"name": "üí≥ Crear factura CREDITO - M√∫ltiples productos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cedulaCliente\": \"1122334455\",\n  \"nombreCliente\": \"Ana L√≥pez\",\n  \"formaPago\": \"CREDITO\",\n  \"numeroCredito\": \"CRE-000002\",\n  \"detalles\": [\n    {\n      \"productoId\": 5,\n      \"cantidad\": 1\n    },\n    {\n      \"productoId\": 6,\n      \"cantidad\": 2\n    },\n    {\n      \"productoId\": 7,\n      \"cantidad\": 1\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas"]
						}
					}
				},
				{
					"name": "‚ùå ERROR: CREDITO sin numeroCredito",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cedulaCliente\": \"0987654321\",\n  \"nombreCliente\": \"Test Error\",\n  \"formaPago\": \"CREDITO\",\n  \"detalles\": [\n    {\n      \"productoId\": 1,\n      \"cantidad\": 1\n    }\n  ]\n}"
						},
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas"]
						},
						"description": "Esta petici√≥n DEBE FALLAR.\n\n**Error esperado:** 400 Bad Request\n**Mensaje:** \"El n√∫mero de cr√©dito es requerido para pagos a CREDITO...\""
					}
				},
				{
					"name": "Ping - Verificar servicio",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/comercializadora-server/api/facturas/ping",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8081",
							"path": ["comercializadora-server", "api", "facturas", "ping"]
						}
					}
				}
			]
		}
	]
}
