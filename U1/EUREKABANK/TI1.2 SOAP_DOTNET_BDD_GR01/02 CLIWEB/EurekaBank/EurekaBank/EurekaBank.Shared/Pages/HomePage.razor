@page "/home"

@inject SessionService SessionManager

<div class="home-container spacing-responsive">
    @if (SessionManager.IsLoggedIn)
    {
        <!-- Welcome Section -->
        <div class="welcome-section mb-4">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-10 col-xl-8">
                    <div class="card card-responsive">
                        <div class="card-body p-4">
                            <div class="welcome-header d-flex align-items-center gap-3 mb-4">
                                <div class="welcome-icon">
                                    <span style="font-size: 2rem;">👤</span>
                                </div>
                                <div class="welcome-text">
                                    <h1 class="welcome-title mb-1">¡Bienvenido!</h1>
                                    <p class="welcome-name text-primary mb-0">@SessionManager.CurrentUser?.Nombre</p>
                                </div>
                            </div>
                            <div class="welcome-body">
                                <p class="text-muted mb-3">
                                    Gestiona tus operaciones bancarias de forma segura y eficiente.
                                </p>
                                <div class="user-details bg-light rounded p-3">
                                    <div class="d-flex align-items-center gap-2">
                                        <span class="text-primary">🆔</span>
                                        <span class="text-dark">Código de empleado: <strong>@SessionManager.CurrentUser?.Codigo</strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions Section -->
        <div class="actions-section mb-4">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-10 col-xl-8">
                    <h2 class="text-center mb-4 text-responsive-lg">Acciones Rápidas</h2>
                    <div class="row g-3">
                        <!-- Transacciones Card -->
                        <div class="col-12 col-sm-6 col-lg-4">
                            <a href="/transactions" class="card card-responsive text-decoration-none text-dark h-100 action-card">
                                <div class="card-body d-flex align-items-center gap-3">
                                    <div class="action-icon bg-success">
                                        <span style="color: white; font-size: 1.5rem;">💰</span>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h3 class="h5 mb-1">Transacciones</h3>
                                        <p class="text-muted small mb-0">Depósitos, retiros y transferencias</p>
                                    </div>
                                    <span class="text-muted">▶️</span>
                                </div>
                            </a>
                        </div>

                        <!-- Reportes Card -->
                        <div class="col-12 col-sm-6 col-lg-4">
                            <a href="/reports" class="card card-responsive text-decoration-none text-dark h-100 action-card">
                                <div class="card-body d-flex align-items-center gap-3">
                                    <div class="action-icon bg-info">
                                        <span style="color: white; font-size: 1.5rem;">📊</span>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h3 class="h5 mb-1">Reportes</h3>
                                        <p class="text-muted small mb-0">Movimientos y estados de cuenta</p>
                                    </div>
                                    <span class="text-muted">▶️</span>
                                </div>
                            </a>
                        </div>

                        <!-- Configuración Card -->
                        <div class="col-12 col-sm-6 col-lg-4">
                            <div class="card card-responsive h-100 action-card disabled">
                                <div class="card-body d-flex align-items-center gap-3">
                                    <div class="action-icon bg-secondary">
                                        <span style="color: white; font-size: 1.5rem;">⚙️</span>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h3 class="h5 mb-1">Configuración</h3>
                                        <p class="text-muted small mb-0">Próximamente disponible</p>
                                    </div>
                                    <span class="text-muted">🔒</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Section -->
        <div class="status-section">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-10 col-xl-8">
                    <div class="alert alert-success d-flex align-items-center">
                        <span class="me-2">🛡️</span>
                        <span>Sistema operativo - Conexión segura establecida</span>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        <!-- Access Denied Section -->
        <div class="access-denied-section d-flex align-items-center justify-content-center" style="min-height: 60vh;">
            <div class="col-12 col-md-8 col-lg-6">
                <div class="card card-responsive text-center">
                    <div class="card-body p-5">
                        <div class="access-denied-icon text-warning mb-4">
                            <span style="font-size: 4rem;">⚠️</span>
                        </div>
                        <h1 class="h2 mb-3">Acceso Denegado</h1>
                        <p class="text-muted mb-4">
                            Por favor, inicia sesión para acceder al sistema bancario.
                        </p>
                        <a href="/" class="btn btn-primary btn-lg btn-responsive">
                            <span class="me-2">🚪</span>
                            Iniciar Sesión
                        </a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>